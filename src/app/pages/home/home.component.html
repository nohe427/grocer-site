<div class="recipe-sheet">
  <div class="inputs">
    <div class="recipe-sheet-header">
      <h1>Grocery store agent</h1>
      <img src="assets/Product_Logomark_Genkit_2.svg">
    </div>
    <form class="prompt-form">
      <textarea #recipePrompt [disabled]="status === 'loading'" class="prompt" id="recipe-description" type="textarea"
        formControlName="prompt"></textarea>
      <input #recipeImage [disabled]="status === 'loading'" class="image-picker" id="image-picker" type="file"
        accept="image/*">
      <button #submitButton [disabled]="status === 'loading'"
        [ngClass]="status === 'loading' ? 'btn-submit btn-loading' : 'btn-submit'"
        (click)="submitPrompt($event, recipeImage, recipePrompt)">{{buttonPrompt}}</button>
    </form>
  </div>
  <div class="result-area">
    @if (status === "loading") {
    <div class="loading-skeleton">
      <div class="loading-skeleton-line" style="width: 50%"></div>
      <div class="loading-skeleton-line" style="width: 30%"></div>
      <div class="loading-skeleton-line" style="width: 30%"></div>
      <div class="loading-skeleton-line" style="width: 30%"></div>
      <div class="loading-skeleton-line" style="width: 50%"></div>
      <div class="loading-skeleton-line" style="width: 70%"></div>
      <div class="loading-skeleton-line" style="width: 60%"></div>
      <div class="loading-skeleton-line" style="width: 50%"></div>
      <div class="loading-skeleton-line" style="width: 60%"></div>
      <div class="loading-skeleton-line" style="width: 20%"></div>
    </div>
    }@else if(result != "") {
    <markdown class="genkit-response">{{result}}</markdown>
    <app-feedback-btn [flowName]="flow" [traceId]="traceId" [spanId]="spanId"></app-feedback-btn>
    } @else {
    <p>üç≥ Submit a prompt to get started!</p>
    }
  </div>
  <!-- <app-image-input></app-image-input> -->
  <!-- <section class="features">
  <article class="card">
    <h2>Server Side Rendering (SSR)</h2>
    <p>Dynamic content is generated by the server running on Cloud Functions. Improve performance, SEO and achieve better Core Web Vitals results.
      Visit <a href="ssr">/ssr</a> to see Angular SSR in action.</p>
  </article>
  <article class="card">
    <h2>Prerendering (SSG)</h2>
    <p>Prerendering maintains the same performance benefits of server-side rendering (SSR) but achieves a reduced Time to First Byte (TTFB),
      ultimately enhancing user experience. The key distinction lies in an approach where pages are served as static content, and there is no request-based rendering.
      Visit <a href="ssg">/ssg</a> page to see a statically generated page served by Firebase App Hosting.</p>
  </article>
  <article class="card">
    <h2>Deferrable Views</h2>
    <p>
      Take advantage of one of the most important features of Angular from recent releases.
      Deferrable views are a powerful tool that can be used to reduce the initial bundle size of your application or defer heavy components that may not be loaded until a later time.
      Visit <a routerLink="deferrable-views">/defer</a> page to see defer in action.
    </p>
  </article>
</section> -->